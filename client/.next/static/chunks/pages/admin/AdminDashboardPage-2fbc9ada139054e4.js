(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5342],{3428:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/AdminDashboardPage",function(){return a(8866)}])},7837:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(4232);let s=(e,t)=>{let a=document.querySelector(e);a?Object.entries(t).forEach(([e,t])=>{a.setAttribute(e,t)}):(a=document.createElement("meta"),Object.entries(t).forEach(([e,t])=>{a.setAttribute(e,t)}),document.head.appendChild(a))},l=({title:e,description:t,path:a,image:l,type:i="website",jsonLd:n})=>((0,r.useEffect)(()=>{let r,c=`https://www.weborbitsolution.in${"/"===a?"":a}`;document.querySelector('meta[property="og:image"]')?.getAttribute("content");let o=l||"https://www.weborbitsolution.in/logo-v2.png";document.title=e,s('meta[name="description"]',{name:"description",content:t}),s('meta[name="robots"]',{name:"robots",content:"index, follow"}),s('meta[property="og:title"]',{property:"og:title",content:e}),s('meta[property="og:description"]',{property:"og:description",content:t}),s('meta[property="og:type"]',{property:"og:type",content:i}),s('meta[property="og:url"]',{property:"og:url",content:c}),o&&(s('meta[property="og:image"]',{property:"og:image",content:o}),s('meta[name="twitter:image"]',{name:"twitter:image",content:o})),s('meta[name="twitter:card"]',{name:"twitter:card",content:"summary_large_image"}),s('meta[name="twitter:title"]',{name:"twitter:title",content:e}),s('meta[name="twitter:description"]',{name:"twitter:description",content:t}),(r=document.querySelector('link[rel="canonical"]'))||((r=document.createElement("link")).rel="canonical",document.head.appendChild(r)),r.href=c,(e=>{let t="seo-jsonld",a=document.getElementById(t);if(!e){a&&a.remove();return}let r=a||document.createElement("script");r.id=t,r.type="application/ld+json",r.textContent=JSON.stringify(e),a||document.head.appendChild(r)})(n)},[e,t,a,l,i,n]),null)},8866:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(7876),s=a(4232),l=a(4e3),i=a(7837);let n={title:"",slug:"",excerpt:"",date:"",readTime:"",author:"WebOrbit Studio",category:"",featuredImageSrc:"",featuredImageAlt:"",metaTitle:"",metaDescription:"",published:!0},c=()=>{let[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)("loading"),[o,d]=(0,s.useState)(n),[p,m]=(0,s.useState)([{heading:"",paragraphs:"",bullets:""}]),[u,h]=(0,s.useState)("idle"),[g,x]=(0,s.useState)(""),b=(0,l.useRouter)(),y="http://localhost:4000",f=async()=>{try{c("loading");let e=await fetch(`${y}/api/admin/posts`,{credentials:"include"});if(401===e.status)return void b.push("/admin/login");let a=await e.json();if(!e.ok)throw Error(a?.error||"Failed to load posts.");t(a.posts||[]),c("ready")}catch(e){c("error")}};(0,s.useEffect)(()=>{f()},[]);let w=(e,t,a)=>{m(r=>r.map((r,s)=>s===e?{...r,[t]:a}:r))},j=async e=>{e.preventDefault();try{h("saving"),x("");let e=p.filter(e=>e.heading.trim()).map(e=>({heading:e.heading.trim(),paragraphs:e.paragraphs.split("\n").map(e=>e.trim()).filter(Boolean),bullets:e.bullets.split("\n").map(e=>e.trim()).filter(Boolean)})),t={title:o.title,slug:o.slug,excerpt:o.excerpt,date:o.date,readTime:o.readTime,author:o.author,category:o.category,featuredImage:{src:o.featuredImageSrc,alt:o.featuredImageAlt},sections:e,metaTitle:o.metaTitle,metaDescription:o.metaDescription,published:o.published},a=await fetch(`${y}/api/admin/posts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),r=await a.json();if(!a.ok)throw Error(r?.error||"Failed to create post.");h("success"),x("Post created successfully."),d(n),m([{heading:"",paragraphs:"",bullets:""}]),f()}catch(e){h("error"),x(e instanceof Error?e.message:"Failed to create post.")}},N=async e=>{confirm("Delete this post?")&&(await fetch(`${y}/api/admin/posts/${e}`,{method:"DELETE",credentials:"include"}),f())},v=async()=>{await fetch(`${y}/api/admin/logout`,{method:"POST",credentials:"include"}),b.push("/admin/login")};return(0,r.jsxs)("section",{className:"bg-black text-white min-h-screen pt-28 pb-20 font-body-alt",children:[(0,r.jsx)(i.A,{title:"Blog Admin | WebOrbitSolution",description:"Manage WebOrbitSolution blog posts.",path:"/admin"}),(0,r.jsxs)("div",{className:"page-container",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-primary font-mono uppercase tracking-[0.35em] text-xs",children:"Admin"}),(0,r.jsx)("h1",{className:"mt-4 text-3xl md:text-5xl font-heading",children:"Blog Manager"})]}),(0,r.jsx)("button",{onClick:v,className:"border border-white/20 px-5 py-2 text-xs uppercase tracking-[0.3em] hover:border-primary hover:text-primary transition-colors",children:"Logout"})]}),(0,r.jsxs)("div",{className:"mt-12 grid lg:grid-cols-[1.2fr_1fr] gap-10",children:[(0,r.jsxs)("form",{onSubmit:j,className:"bg-white/5 border border-white/10 p-8 space-y-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Create New Post"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Title"}),(0,r.jsx)("input",{value:o.title,onChange:e=>d({...o,title:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Slug"}),(0,r.jsx)("input",{value:o.slug,onChange:e=>d({...o,slug:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",placeholder:"auto-generated if empty"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Excerpt"}),(0,r.jsx)("textarea",{value:o.excerpt,onChange:e=>d({...o,excerpt:e.target.value}),rows:3,className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",required:!0})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Date"}),(0,r.jsx)("input",{type:"date",value:o.date,onChange:e=>d({...o,date:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Read Time"}),(0,r.jsx)("input",{value:o.readTime,onChange:e=>d({...o,readTime:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",placeholder:"5 min read"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Category"}),(0,r.jsx)("input",{value:o.category,onChange:e=>d({...o,category:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",required:!0})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Author"}),(0,r.jsx)("input",{value:o.author,onChange:e=>d({...o,author:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Published"}),(0,r.jsxs)("select",{value:o.published?"yes":"no",onChange:e=>d({...o,published:"yes"===e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",children:[(0,r.jsx)("option",{value:"yes",children:"Yes"}),(0,r.jsx)("option",{value:"no",children:"No"})]})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Featured Image URL (WebP)"}),(0,r.jsx)("input",{value:o.featuredImageSrc,onChange:e=>d({...o,featuredImageSrc:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Image Alt Text"}),(0,r.jsx)("input",{value:o.featuredImageAlt,onChange:e=>d({...o,featuredImageAlt:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",required:!0})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Meta Title"}),(0,r.jsx)("input",{value:o.metaTitle,onChange:e=>d({...o,metaTitle:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",placeholder:"Optional SEO title"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Meta Description"}),(0,r.jsx)("input",{value:o.metaDescription,onChange:e=>d({...o,metaDescription:e.target.value}),className:"w-full bg-black border border-white/10 p-3 text-white focus:outline-none focus:border-primary",placeholder:"Optional SEO description"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-sm uppercase tracking-[0.3em] text-gray-500",children:"Sections"}),(0,r.jsx)("button",{type:"button",onClick:()=>{m(e=>[...e,{heading:"",paragraphs:"",bullets:""}])},className:"text-primary text-xs uppercase tracking-[0.3em]",children:"Add Section"})]}),p.map((e,t)=>(0,r.jsxs)("div",{className:"border border-white/10 p-4 space-y-3",children:[(0,r.jsx)("input",{value:e.heading,onChange:e=>w(t,"heading",e.target.value),className:"w-full bg-black border border-white/10 p-2 text-white focus:outline-none focus:border-primary",placeholder:`Section ${t+1} heading`}),(0,r.jsx)("textarea",{value:e.paragraphs,onChange:e=>w(t,"paragraphs",e.target.value),rows:3,className:"w-full bg-black border border-white/10 p-2 text-white focus:outline-none focus:border-primary",placeholder:"Paragraphs (one per line)"}),(0,r.jsx)("textarea",{value:e.bullets,onChange:e=>w(t,"bullets",e.target.value),rows:2,className:"w-full bg-black border border-white/10 p-2 text-white focus:outline-none focus:border-primary",placeholder:"Bullets (one per line)"}),p.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>{m(e=>e.filter((e,a)=>a!==t))},className:"text-red-400 text-xs uppercase tracking-[0.3em]",children:"Remove"})]},t))]}),g&&(0,r.jsx)("p",{className:"error"===u?"text-red-500":"text-primary",children:g}),(0,r.jsx)("button",{type:"submit",disabled:"saving"===u,className:"w-full bg-primary text-black py-3 text-xs uppercase tracking-[0.3em] font-bold hover:bg-white transition-colors",children:"saving"===u?"Saving...":"Publish Post"})]}),(0,r.jsxs)("div",{className:"bg-white/5 border border-white/10 p-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Existing Posts"}),"loading"===a&&(0,r.jsx)("p",{className:"text-gray-400 mt-4",children:"Loading posts..."}),"error"===a&&(0,r.jsx)("p",{className:"text-red-500 mt-4",children:"Failed to load posts."}),"ready"===a&&0===e.length&&(0,r.jsx)("p",{className:"text-gray-400 mt-4",children:"No posts yet."}),(0,r.jsx)("div",{className:"mt-6 space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-white/10 p-4",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:e.category}),(0,r.jsx)("h3",{className:"text-lg font-semibold mt-2",children:e.title}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:e.date}),(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,r.jsx)("span",{className:`text-xs uppercase tracking-[0.3em] ${e.published?"text-primary":"text-gray-500"}`,children:e.published?"Published":"Draft"}),(0,r.jsx)("button",{type:"button",onClick:()=>N(e._id),className:"text-red-400 text-xs uppercase tracking-[0.3em]",children:"Delete"})]})]},e.slug))})]})]})]})]})}}},e=>{e.O(0,[4e3,636,6593,8792],()=>e(e.s=3428)),_N_E=e.O()}]);
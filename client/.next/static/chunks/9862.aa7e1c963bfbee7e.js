"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9862],{7481:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var r=a(5155),s=a(2115);let l=["Website Development","App Development","SaaS Development","Talk to Expert"],i=/(price|pricing|cost|quote|budget|timeline|project|proposal|hire|consultation|demo)/i,o=()=>`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,n=()=>{let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),[c,p]=(0,s.useState)(""),[d,m]=(0,s.useState)(!1),[u,b]=(0,s.useState)(!1),[h,x]=(0,s.useState)(""),[g,y]=(0,s.useState)([{id:o(),role:"assistant",content:"Hi, I am your WebOrbitSolution AI assistant. Planning to build a SaaS product, website, or app in India? I can help with scope, cost, and next steps."}]),[w,v]=(0,s.useState)({name:"",email:"",phone:"",projectDetails:"",budget:"",timeline:""}),f=(0,s.useRef)(null),j=(0,s.useMemo)(()=>g.map(e=>({role:e.role,content:e.content})).slice(-12),[g]),k=(e,t)=>{y(a=>[...a,{id:o(),role:e,content:t}]),requestAnimationFrame(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)})},N=async e=>{let t=e.trim();if(t&&!a){k("user",t),p(""),n(!0),x("");try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...j,{role:"user",content:t}]})}),a=await e.json().catch(()=>({})),r="string"==typeof a?.reply&&a.reply?a.reply:"Could you share more details?";k("assistant",r),(a?.shouldCaptureLead||i.test(t))&&m(!0)}catch{k("assistant","I am temporarily unavailable. Please share your Name, Email, Phone, Budget, Timeline, and Project Details for a free consultation."),i.test(t)&&m(!0)}finally{n(!1)}}},C=async()=>{if(!u){b(!0),x("");try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({submitLead:!0,lead:w,messages:j})}),t=await e.json().catch(()=>({}));if(!e.ok)return void x(t?.error||"Unable to submit. Please try again.");k("assistant",t?.reply||"Your request has been captured successfully. Our team will contact you soon with consultation options."),m(!1),v({name:"",email:"",phone:"",projectDetails:"",budget:"",timeline:""})}catch{x("Lead submission failed. Please try again.")}finally{b(!1)}}};return(0,r.jsxs)("div",{className:"fixed bottom-5 right-5 z-[95]",children:[e&&(0,r.jsxs)("div",{className:"w-[min(92vw,380px)] h-[min(76vh,620px)] bg-[#0b0b0b] border border-white/15 rounded-lg shadow-2xl flex flex-col overflow-hidden mb-3",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-white/10 bg-black/70",children:[(0,r.jsx)("p",{className:"text-primary text-xs uppercase tracking-[0.25em]",children:"AI Assistant"}),(0,r.jsx)("p",{className:"text-white text-sm mt-1",children:"Free consultation support for India projects"})]}),(0,r.jsxs)("div",{ref:f,className:"flex-1 overflow-y-auto px-3 py-3 space-y-3",children:[g.map(e=>(0,r.jsx)("div",{className:`max-w-[90%] p-3 text-sm leading-relaxed ${"assistant"===e.role?"bg-white/10 text-gray-100 border border-white/10":"ml-auto bg-primary/20 text-white border border-primary/40"}`,children:e.content},e.id)),a&&(0,r.jsx)("div",{className:"text-gray-400 text-xs",children:"Thinking..."})]}),(0,r.jsxs)("div",{className:"px-3 py-2 border-t border-white/10 bg-black/60",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:l.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>"Talk to Expert"===e?m(!0):N(`I need help with ${e.toLowerCase()} in India.`),className:"text-[11px] px-2 py-1 border border-white/20 text-gray-200 hover:border-primary hover:text-primary transition-colors",children:e},e))}),d&&(0,r.jsxs)("div",{className:"border border-primary/40 bg-primary/10 p-3 space-y-2 mb-2",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-primary",children:"Consultation Form"}),(0,r.jsx)("input",{value:w.name,onChange:e=>v(t=>({...t,name:e.target.value})),placeholder:"Name",className:"w-full px-2 py-2 text-sm bg-black/50 border border-white/20 outline-none"}),(0,r.jsx)("input",{value:w.email,onChange:e=>v(t=>({...t,email:e.target.value})),placeholder:"Email",type:"email",className:"w-full px-2 py-2 text-sm bg-black/50 border border-white/20 outline-none"}),(0,r.jsx)("input",{value:w.phone,onChange:e=>v(t=>({...t,phone:e.target.value})),placeholder:"Phone",className:"w-full px-2 py-2 text-sm bg-black/50 border border-white/20 outline-none"}),(0,r.jsx)("input",{value:w.budget,onChange:e=>v(t=>({...t,budget:e.target.value})),placeholder:"Project Budget (e.g. INR 5L-10L)",className:"w-full px-2 py-2 text-sm bg-black/50 border border-white/20 outline-none"}),(0,r.jsx)("input",{value:w.timeline,onChange:e=>v(t=>({...t,timeline:e.target.value})),placeholder:"Timeline (e.g. 8 weeks)",className:"w-full px-2 py-2 text-sm bg-black/50 border border-white/20 outline-none"}),(0,r.jsx)("textarea",{value:w.projectDetails,onChange:e=>v(t=>({...t,projectDetails:e.target.value})),placeholder:"Project Details",rows:3,className:"w-full px-2 py-2 text-sm bg-black/50 border border-white/20 outline-none resize-none"}),h&&(0,r.jsx)("p",{className:"text-red-400 text-xs",children:h}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:C,disabled:u,className:"px-3 py-2 text-xs uppercase tracking-[0.2em] bg-primary text-black font-semibold disabled:opacity-60",children:u?"Submitting...":"Book Free Consultation"}),(0,r.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-2 text-xs uppercase tracking-[0.2em] border border-white/30 text-gray-200",children:"Close"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{value:c,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),N(c))},placeholder:"Ask about pricing, timeline, or services...",className:"flex-1 px-3 py-2 text-sm bg-black/60 border border-white/20 outline-none"}),(0,r.jsx)("button",{type:"button",onClick:()=>N(c),disabled:a,className:"px-3 py-2 text-xs uppercase tracking-[0.2em] border border-white/30 hover:border-primary hover:text-primary transition-colors disabled:opacity-60",children:"Send"})]})]})]}),(0,r.jsx)("button",{type:"button",onClick:()=>t(e=>!e),className:"px-4 py-3 bg-primary text-black font-semibold text-sm uppercase tracking-[0.2em] shadow-lg hover:bg-white transition-colors",children:e?"Close Chat":"AI Chat"})]})}}}]);